# 05. 리팩터링 카탈로그 보는 법

- 이제부터는 여러가지 리팩터링 기법을 하나씩 소개한다(6장 ~ 12장)
- 리팩터링 방법이 기억나지 않을 때 찾아볼 수 있도록 6~12장을 카탈로그 처럼 활용한다

## 5.1 리팩터링 설명 형식

#### 각 기법들에 대한 설명 형식 5 항목

1. 이름
   - 리팩터링 용어 구축, 책 전반에서 해당 이름을 사용
2. 개요
   - 리팩터링의 핵심 개념을 간략히 표현한 개요(개념도 + 코드 예시)
   - 리팩터링 전후로 코드가 어떻게 달라지는 지 보여줌
   - 리팩터링 개념이나 수행과정 설명이 아닌 => `나중에 다시 찾아볼 때 이 기법이 어떤 것인지 쉽게 떠올리기 위한 것`
3. 배경
   - 리팩터링 기법이 왜 필요한지
   - 그 기법을 적용하면 안되는 상황도 설명
4. 절차
   - 리팩터링하는 과정을 단계별로 제시
   - 오랜만에 적용하는 리팩터링의 구체적인 단계를 잊지 않도록 기록해둔 것
     - 압축된 표현이 많음
     - 왜 그렇게 구성했는지에 대한 설명이 없을 때도 많음
     - 제대로된 설명은 `예시`에서 풀어줌
   - 해당 리팩터링을 알고 있지만 구체적으로 진행순서가 기억나지 않을 때 참고하기 좋음
   - 절차에선 리팩터링의 단계를 가능한 잘게 나눠놓음
     - 리팩터링을 안전하게 수행하려면 단계를 최대한 잘게 나누고
     - 각 단계마다 테스트를 해야 한다
     - 실전에선 각 단계를 더 크게 잡고 리팩터링할 때가 많은데, 그러다 버그가 생기면 이전 단계로 돌아가서 크기를 줄여서 진행
     - '➡️' 로 시작하는 세부 항목 : 세부단계가 아니라 특수한 경우를 위한 참고사항
   - 절차에선 한가지 방법만 소개하지만 그것이 유일한 방법이란 뜻은 아님
     - 리팩터링 경험이 쌓일 수록 독자 스스로 구체적인 절차를 변경하게 될 것
   - 작은 단계를 밟아 나가는게 핵심
5. 예시
   - 해당 리팩터링 기법을 실제로 적용하는 간단한 예와 그 효과
   - 간단한 사례로 구성 => 리팩터링의 기본에 집중하여 설명하기 위함(실제 업무에 적용하기에도 너무 간단한 코드일 수 있음)
   - 복잡한 상황에 응용하는 데 부족하진 않을 것임
   - 너무 간단한 리팩터링은 예시를 생략함
   - 예시는 어디까지나 해당 절에 소개하는 기법 하나만 보여주기 위한 것
     - 수정을 마친 코드 예시코드에도 다른 문제가 남아 있을 수 있음
     - 이를 해결하기 위해선 다른 기법을 적용해야 함
   - 하나의 패턴 처럼 연달아 적용되는 리팩터링들 => 예시에서도 연달아 적용함
     - 그 외 대부분의 경우는 한 가지 리팩터링만 적용한 상태로 두었음

- 리팩터링 카탈로그의 주 용도 : 레퍼런스
  - 최대한 독립적으로 구성함

## 5.2 리팩터링 기법 선정 기준

- 이 카탈로그는 완벽하지 않음
- 저자 생각에 가장 유용한 것만 담음
  - 가장 유용하다 : 흔히 사용되고 특별히 이름과 설명을 덧붙일 만한 가치가 있다
    - 일반적인 리팩터링 기법을 익히는데 도움되거나
    - 코드 설계 개선에 크게 기여하거나
- 따로 기록해둘 필요가 없을 정도로 간단하고 직관적인 리팩터링 기법은 생략함
- 이 책의 모든 리팩터링 기법에는 정반대에 해당하는 기법들이 존재함
  - 그 반대 기법 중 특별히 관심 가지 않는 것은 생략 됨(e.g., 변수 캡슐화하기의 반대기법 - 사용할일이 거의 없고 적용방법도 간단해서)
