# 상속 다루기
## 12.1 메서드 올리기

### 배경 
 - 중복 코드 제거는 중요하다.
 - 하지만 테스트를 잘해야한다. 
 - 서도 다른 두 클래스의 두 메서를 가각 매게변수화하면 궁극적으로 같은 메소드가 된다
 - 복잡한 상황: 해당 메서드의 본문에서 참조하는 필드들이 서브클래ㅔ스에서만 있은 경우
   - 필드를 먼저 슈퍼 클래스에 올린 후 메서드 올리자
 - 두 메서드 비슷하지만 세부 내용이 다르다면 템플릿 메서드를 만들기를 고려해보자

### 절차
 1) 똑같이 동작하는 메서드인지 면밀히 살펴본다
    - 실질적으로 하는 일ㅇ을 같지만 코드가 다르다면 본문 코드가 똑가아 질때까지 리팩터링한다.
 2) 메서드 안에서 호출하는 다른 메서드와 참조하는 필드들을 슈퍼클래스에서 호출하고 참조 할 수 있는지 확인하다
 3) 메서드 시그니처가 다르다면 함수 선언 바꾸기로 슈퍼클래스에서 사용하고 싶은 형태로 통일한다.
 4) 정적 검사를 수행한다.
 5) 서브클래스 중 하나의 메서드를 제거한다.
 6) 테스트한다.
 7) 모든 서브클랫의 메서드가 없어질 때까지 다른 서브클래스의 메서드를 하나씩 제거한다.

## 12.2 필드 올리기

### 배경
 - 서브클래스들이 독립적으로 개발되었거나 => 뒤늦계 계층구조로 리팩터링된 경우라면 일부 기능이 중복되었을 가능성이 왕왕있다
 - 필드 중복이 쉽다. 이름이 비슷하는게 당연하지만 항상그렇지 않다
 - 분석후 비슷할경우 슈퍼클래스로 올리다
 - 장점: 첫째 데이터 중복 선언 없앨수 있다, 둘째 해당 필드 사용 독작을 서브클래스에서 슈퍼 클래스로 옮길 수 있다
 - 주의할점: 동적언어는 필드를 클래스 정의에 포함시키지 않는 경우가 있다. 필드에 가장 처음 값이 대입될때 등장할수도있다(선언안한지 쳐다 보지않은거같음) - 생성자 본문부터 올려야한다

### 순서
 1) 후보 필드들을 사용하는 곳 모두가 그 필드들을 똑같은 방식으로 사용하지 살펴라
 2) 필드들의 이름이 각기 다르다면 똑같은 이름으로 바꾼다(필드 이름 바꾸기)
 3) 슈퍼클래스에 새로운 필드를 생성한다.
    => 서브클래스에서 이 필드에 접근 할 수 있어야한다. (protected 로 선언하면 된다)
 4) 서브 클래스의 필드들의 제거한다
 5) 테스트한다
 
## 12.3 생성자 본문 올리기

### 배경
 - 생성자는 다루기 까다롭다. 일반 메서드와는 많이 달라서, 생성하는 일을 제약하는 편이다.
 - 서브 클래스 기능 같은 메서드 발견시 함수 추추랗기와 메서드 올리기를 차례로 적용하여 말끔히 슈퍼 클래스로 옮기곤 한다.
 - 하필이면 생성자일겨웅 스텝이 꼬인다.

### 절차
 1) 슈퍼클래스에 생성자가 없다면 하나 정의한다. 서브클래스의 생성자들에서 이 생성자가 호출되는지 확인하다
 2) 문장 슬라이드 하기로 공통 문장 모두를 super() 호출 직후로 옮긴다.
 3) 공통 코드를 슈퍼클래에 추가하고 서브클래스들에게 제거한다. 생성자 매개변수 중 공통 코드에서 참조하는 값들을 모두 super()로 건낸다.
 4) 테스트한다.
 5) 생성자 시작 부분으로 옮길 수 없는 공통 코드에서 함수 추출하기와 메서드 올리기를 차례로 적용한다.

### js super()
