# API 리펙토링

## Intro
- 좋은 API 를 개선하는 방법을 새로 깨달을 때마다 그에 맞게 리팩터링 해야한다.
- 섞여있을경우 질의함수와 변경함수 분리하기를 적용해 갈라놔야된다
- 어떤 매개변수는 그저 함수의 동작모드를 전환하는 용도로만쓰일때 => 플래그 인수 제거하기
- 필요이상으로 분해될때 객체 통째로넘기기

## 11.1 질의 함수와 변경 함수 분리하기
### 배경
- 우리는 외부에서 관찰할 수 있는 겉보기 부수효과가 전혀없이 반환해주는 함수를 추구해야 한다
- side Effect 를 만들지말자
### 절차
1) 대상 함수를 복제하고 질의 목적에 충실한 이름을 짓는다.
2) 새 질의 함수에서 부수효과를 모두 제거한다.
3) 정적검사를 수행한다
4) 원래 함수를 호출하는곳을 모두 찾아낸다. 질의 함수를 호출하는 코드를 바로 아래줄에 새로 추가, 하나 수정할때마다 테스트한다.
5) 원래 함수에서 즬이 관련 코드를 제거한다.
6) 테스트한다.
