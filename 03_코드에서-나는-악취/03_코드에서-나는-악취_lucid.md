# 03. 코드에서 나는 악취
 - 언제 시작하고 언제 그만할지 판단 중요하다
 - 인스턴스 변수 삭제, 상속 계층 만드는 방법 설명만 쉽다(적용하기는 어렵다)
 - 숙련된 사람의 직관이 좋을때가 ㅁ낳다

## 3.1 기이한 이름
 - **_이름만 봐도 알 수 있는 변수명이 좋다! 이름이 어렵다면 설계가 어려운거다_**
 - 해결방법:
   1. 변수이름 바꾸기 
   2. 함수 선언 바꾸기
   3. 필드 이름 바꾸기

## 3.2 중복 코드
  - _똑같은 코드 구조 반복 시 통합하는게 관리 하기 쉽다_
  - 한 클래스 두 메서드에서 같은 표현식(같은 로직) 일 경우 => 함수 추출하기
  - 완전 똑같지 않다면 => 문장 슬라이드하기
  - 같은 클래스를  상속 받은 서브 클래스 코드 중복 => 메서드 올리기(부모에게 통합)

## 3.3 긴 함수
  - _함수는 짧고 간결한게 좋다(잘 만든 프로그램이 그렇단다)_
  - _짧고 좋은 이름을 짓자_
  - 짧게 만드는 가장 잘쓰는 방법: 99% 함수 추출하기
  - 매개 변수가 많아져 난해해 질 경우:
     1) 임시변수를 질의함수로 바꾸기 
     2) 임시 변수를 매개변수 객체 만들기 및 객체 통째로 넘기기
     3) 함수를 명령으로 바꾸기
  - 추출할 코드 덩어리를 어떻게 판단할하는 방법:
    1) 주석 내용을 토대로 함수를 분리하자
    2) 조건문 반복문 을 함수로 분리: 조건문 분해하기
    3) case: 함수 추출하기
    4) switch 일 경우 조건을 다형성 바꾸기
    5) 반복문 안에 코드 작업이 섞일 경우: 반복분 쪼개
## 3.4 긴 매개변수 목록
  - 앞에서 보듯이 : 매개변수 질의 함수로 바꾸기
  - 객체 통째로 넘기기
  - 매개 변수 객체 만들기
  - 플래그 인수 제거하기(?)
  - 여러 함수를 클래스로 묶서 처리하기
## 3.5 전역 데이터
  - 전역 데이터는 항상 조심해야한다(머 다 아실듯)
  - 대표적인 형태: 클래스 변수, 싱글톤
  - 해결 방법 변수 캡슐화하기
  - 전역 데이터가 가변일 경우는 골치가 아프니 언어에서 컴파일 수준에서 잡아주면 좋겟다
## 3.6 가변 데이터
  - 예쌍치 못한 곳에서 변경, 다른 코드에서 반영한다는 걸 인식 못하고 변경시 오작동
  - 함수형 프로그래밍은 이걸 해결하고 싶어한다
  - 변수 캡슐화로 함수를 이용해서 수정할수잇게만 변경한다
  - 하나의 변수에 섞어서 사용일 경우 => 변수 쪼개기를 해서 독립 변수로 만든다
  - 갱신로직과 다른 코드는 떨어트려놓자? => 문장 슬라이드/함수 추출하기 => 뷰작용 없게 만들자
  - API 를 만들때 질의함수와 변경 함수 분리하자(부작용 있는 코드를 제거)
  - 세터 제거하기 적용
  - 파생 변수를 질의 함수로 바꿔서 쓸데없는 코드를 검사한다
  - 가변 변수의 여러 함수를 클래스로 묶거나, 여러 함수를 변환 함수로 묶자
  - 구조체의 데이터 변수라는 참조 값으로 바꾸고 => 참조하는 구조체를 변경하자