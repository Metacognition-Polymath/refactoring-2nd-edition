리팩터링을 제대로 하려면 불가피하게 저지르는 실수를 잡아주는 견고한 테스트 스위트 (test suite)가 뒷받침돼야 한다.
좋은 테스트 작성하는 일을 개발 효율은 높인다.

## 4.1 자가 테스트 코드의 가치

프로그래머가 일할 때 코드를 작성하는 시간은 비중이 높지 않다.
상황 파악, 설계, 디버깅, 버그 해결하는데 훨씬 많은 비중의 시간을 할애합니다.

모든 테스트를 완전히 자동화하고 그 결과까지 스스로 검사하게 만들자 -> 테스트 성공시 OK 출력하는 방식
- 테스트가 컴파일만큼이나 쉬워지는 마법이 일어난다!
- 테스트 스위트는 강력한 버그 검출 도구로, 버그를 찾는 데 걸리는 시간을 대폭 줄여준다. -> 버그를 찾을 범위를 대폭 줄일 수 있음

테스트 코드를 작성하기 가장 좋은 시점은 프로그래밍을 시작하기 전이다.
1. 기능을 추가하기 위해 무엇이 필요한지 고민하게 된다.
2. 구현보다 인터페이스에 집중하게 된다.
3. 코딩 완료 시점을 정확하게 판단할 수 있다.

켄트 백의 테스트 주도 개발(TDD)
1. 통과하지 못할 테스트를 작성한다.
2. 테스트를 통과하게끔 코드를 작성한다.
3. 결과 코드를 최대한 깔끔하게 리팩터링하는 과정을 짧은 주기로 반복한다.

굉장히 생산적이고 차분하게 코드를 작성할 수 있다.



